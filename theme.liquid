<!-- Cache buster: 20250115123456 -->
<!doctype html>
<html
  class="no-js{% if request.design_mode %} shopify-design-mode{% endif %}"
  lang="{{ request.locale.iso_code }}"
>
  <head>
    {%- render 'stylesheets' -%}

    {%- if settings.favicon != blank -%}
      <link
        rel="icon"
        type="image/png"
        href="{{ settings.favicon | image_url: width: 32, height: 32 }}"
      >
    {%- endif -%}

    {% comment %} This a way to wait for main content to load when navigating to a new page so that the view transitions can work consistently {% endcomment %}
    <link
      rel="expect"
      href="#MainContent"
      blocking="render"
      id="view-transition-render-blocker"
    >

    {%- render 'meta-tags' -%}
    {%- render 'fonts' -%}
    {%- render 'scripts' -%}
    {%- render 'theme-styles-variables' -%}
    {%- render 'color-schemes' -%}

    {% if request.design_mode %}
      {%- render 'theme-editor' -%}
    {% endif %}

    <!-- CUSTOMIFY INTEGRATION -->
    <link rel="stylesheet" href="{{ 'customify.css' | asset_url }}">
    
    <!-- FIX: Preload obrazk√≥w produktu - eliminuje skakanie -->
    {% if template contains 'product' %}
      {% if product.featured_image %}
        <link rel="preload" as="image" href="{{ product.featured_image | image_url: width: 800 }}">
      {% endif %}
      {% for media in product.media limit: 3 %}
        {% if media.media_type == 'image' %}
          <link rel="preload" as="image" href="{{ media | image_url: width: 800 }}">
        {% endif %}
      {% endfor %}
    {% endif %}
    
    
    <!-- Shopify Customer Info for Customify -->
    <script>
      {% if customer %}
        // METODA 1: Shopify Liquid (customer object detected)
        window.ShopifyCustomer = {
          loggedIn: true,
          id: {{ customer.id | json }},
          email: {{ customer.email | json }},
          firstName: {{ customer.first_name | json }},
          lastName: {{ customer.last_name | json }}
        };
        console.log('‚úÖ [CUSTOMIFY LIQUID] Zalogowany u≈ºytkownik:', window.ShopifyCustomer);
      {% else %}
        // U≈ºytkownik niezalogowany
        window.ShopifyCustomer = null;
        console.log('üë§ [CUSTOMIFY LIQUID] U≈ºytkownik niezalogowany');
      {% endif %}
    </script>
    
    <script src="{{ 'customify.js' | asset_url }}" defer></script>
  
        <!-- ‚úÖ JAVASCRIPT: Ukryj produkty AI na stronach kolekcji i rekomendacji -->
        <script>
          document.addEventListener('DOMContentLoaded', function() {
            // Ukryj produkty z "spersonalizowany" w URL (kolekcje)
            const spersonalizowanyProducts = document.querySelectorAll('.custom-collection-card[href*="spersonalizowany"]');
            spersonalizowanyProducts.forEach(product => {
              product.style.display = 'none';
            });
            
            // Ukryj produkty z "rozmiar" w URL (kolekcje)
            const rozmiarProducts = document.querySelectorAll('.custom-collection-card[href*="rozmiar"]');
            rozmiarProducts.forEach(product => {
              product.style.display = 'none';
            });
            
            // ‚úÖ NOWE: Ukryj produkty AI w sekcji rekomendacji produkt√≥w
            const recommendationsSpersonalizowany = document.querySelectorAll('.product-recommendations a[href*="spersonalizowany"]');
            recommendationsSpersonalizowany.forEach(product => {
              product.style.display = 'none';
            });
            
            const recommendationsRozmiar = document.querySelectorAll('.product-recommendations a[href*="rozmiar"]');
            recommendationsRozmiar.forEach(product => {
              product.style.display = 'none';
            });
            
            const totalHidden = spersonalizowanyProducts.length + rozmiarProducts.length + recommendationsSpersonalizowany.length + recommendationsRozmiar.length;
            console.log('üîí [PRODUCT HIDING] Ukryto', totalHidden, 'produkt√≥w AI (kolekcje + rekomendacje)');
          });
        </script>
    
    <!-- FIX: CSS dla galerii - TYLKO JEDEN MIEJSCE -->
    <style>
      /* TYLKO JEDEN MIEJSCE - bez duplikat√≥w */
      .media-gallery__grid {
        grid-template-rows: 400px 120px !important;
        grid-template-columns: 120px 120px !important;
        height: 524px !important;
      }
      
      /* OGRANICZ ROZMIAR MODALA ZDJƒòƒÜ */
      .product-media-container__zoom-button {
        /* Usu≈Ñ full screen - poka≈º mniejszy modal */
      }
      
      /* Modal z ograniczonym rozmiarem */
      .media-gallery__modal,
      .product-media-modal,
      [data-modal],
      .modal {
        max-width: 80vw !important;
        max-height: 80vh !important;
        width: auto !important;
        height: auto !important;
        margin: auto !important;
        position: fixed !important;
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%, -50%) !important;
        z-index: 9999 !important;
        background: white !important;
        border-radius: 8px !important;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3) !important;
        overflow: hidden !important;
      }
      
      /* Obraz w modalu - WYPE≈ÅNIA CA≈ÅY KONTENER BEZ BIA≈ÅYCH P√ìL */
      .media-gallery__modal img,
      .product-media-modal img,
      [data-modal] img,
      .modal img {
        width: 100% !important;
        height: 100% !important;
        object-fit: cover !important;
        object-position: center !important;
      }
      
      /* FIX: Zdjƒôcia w galerii - WYPE≈ÅNIAJƒÑ CA≈ÅY KONTENER */
      .product-media__image {
        width: 100% !important;
        height: 100% !important;
        object-fit: cover !important;
        object-position: center !important;
        max-height: none !important;
      }
      
      /* FIX: Kontener zdjƒôcia */
      .product-media {
        width: 100% !important;
        height: 100% !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
      }
      
      /* Overlay */
      .media-gallery__overlay,
      .product-media-overlay,
      [data-overlay],
      .modal-overlay {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 100vw !important;
        height: 100vh !important;
        background: rgba(0,0,0,0.8) !important;
        z-index: 9998 !important;
      }
      
      /* OGRANICZ SZEROKO≈öƒÜ TYLKO STRON PRODUKT√ìW - DESKTOP ONLY */
      @media (min-width: 769px) {
        .product-information__grid {
          max-width: 1400px !important;
          margin: 0 auto !important;
          padding: 0 20px !important;
          /* FIX: Stabilny grid layout - eliminuje skakanie */
          display: grid !important;
          grid-template-columns: 35% 65% !important; /* Obrazek 35%, Aplikacja 65% */
          gap: 24px !important;
          align-items: start !important;
          width: 100% !important;
          background: #f3f5f6 !important; /* SZARE T≈ÅO dla grid */
          padding: 20px !important;
          border-radius: 0 !important;
          min-height: 600px !important; /* Stabilna wysoko≈õƒá */
        }
      }
      
      /* FIX: Stabilne wymiary dla kontener√≥w - DESKTOP ONLY */
      @media (min-width: 769px) {
        .product-information__media {
          grid-column: 1 !important;
          width: 100% !important;
          min-height: 500px !important; /* Stabilna wysoko≈õƒá zdjƒôƒá */
          box-sizing: border-box !important;
          background: white !important;
          padding: 20px !important;
          border-radius: 0 !important;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
        }
        
        .product-details {
          grid-column: 2 !important;
          min-height: 500px !important; /* Stabilna wysoko≈õƒá aplikacji */
          background: white !important;
          padding: 20px !important;
          border-radius: 0 !important;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
        }
      }
      
      /* MOBILE: Elastyczne wymiary */
      @media (max-width: 768px) {
        .product-information__media,
        .product-details {
          grid-column: 1 !important;
          width: 100% !important;
          min-height: auto !important; /* Elastyczna wysoko≈õƒá na mobile */
          box-sizing: border-box !important;
          background: white !important;
          padding: 15px !important;
          border-radius: 0 !important;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
          margin-bottom: 15px !important;
        }
      }
      
      /* FIX: Stabilne wymiary dla zdjƒôƒá produktu - DESKTOP ONLY */
      @media (min-width: 769px) {
        .product__media img,
        .product__media .product__media-item img,
        .media-gallery__image img {
          width: 100% !important;
          height: 100% !important;
          min-height: 400px !important; /* Stabilna wysoko≈õƒá obrazk√≥w */
          object-fit: cover !important;
          object-position: center !important;
          background: #f8f9fa !important; /* Placeholder podczas ≈Çadowania */
        }
      }
      
      /* MOBILE: Elastyczne wymiary zdjƒôƒá */
      @media (max-width: 768px) {
        .product__media img,
        .product__media .product__media-item img,
        .media-gallery__image img {
          width: 100% !important;
          height: auto !important; /* Elastyczna wysoko≈õƒá na mobile */
          min-height: 200px !important; /* Mniejsza minimalna wysoko≈õƒá */
          max-height: 400px !important; /* Maksymalna wysoko≈õƒá */
          object-fit: cover !important;
          object-position: center !important;
          background: #f8f9fa !important;
        }
      }
      
      /* FIX: Stabilne wymiary dla ceny produktu - DESKTOP ONLY */
      @media (min-width: 769px) {
        .product-price,
        product-price,
        .price,
        [class*="price"] {
          min-height: 60px !important; /* Stabilna wysoko≈õƒá ceny */
          display: flex !important;
          align-items: center !important;
          font-size: 1.4rem !important;
          font-weight: 700 !important;
          color: #000000 !important; /* CZARNY KOLOR */
          margin: 8px 0 !important; /* ZMNIEJSZONO: z 20px na 8px */
        }
      }
      
      /* MOBILE: Elastyczne wymiary ceny */
      @media (max-width: 768px) {
        .product-price,
        product-price,
        .price,
        [class*="price"] {
          min-height: auto !important; /* Elastyczna wysoko≈õƒá na mobile */
          display: flex !important;
          align-items: center !important;
          font-size: 1.2rem !important; /* Mniejszy font na mobile */
          font-weight: 700 !important;
          color: #000000 !important; /* CZARNY KOLOR */
          margin: 5px 0 !important; /* Mniejsze marginesy na mobile */
        }
      }
      
      /* FIX: Zmniejsz pionowe rozmiary dla ceny w aplikacji Customify - DESKTOP ONLY */
      @media (min-width: 769px) {
        #customify-app-container product-price,
        #customify-app-container .product-price,
        #customify-app-container .price,
        #customify-app-container [class*="price"] {
          margin: 4px 0 !important; /* Jeszcze mniejsze marginesy w aplikacji */
          min-height: 40px !important; /* Mniejsza wysoko≈õƒá w aplikacji */
          text-align: left !important; /* WYJUSTOWANIE DO LEWEJ */
        }
      }
      
      /* MOBILE: Elastyczne wymiary ceny w aplikacji */
      @media (max-width: 768px) {
        #customify-app-container product-price,
        #customify-app-container .product-price,
        #customify-app-container .price,
        #customify-app-container [class*="price"] {
          margin: 2px 0 !important; /* Jeszcze mniejsze marginesy na mobile */
          min-height: auto !important; /* Elastyczna wysoko≈õƒá na mobile */
          font-size: 1.1rem !important; /* Mniejszy font na mobile */
          text-align: left !important; /* WYJUSTOWANIE DO LEWEJ NA MOBILE */
        }
      }
      
      /* INFORMACJA O NAJNI≈ªSZEJ CENIE - DODANA POD CENƒÑ */
      #customify-app-container product-price::after {
        content: 'Najni≈ºsza cena z ostatnich 30 dni';
        display: block;
        color: #2d5a27 !important; /* CIEMNO ZIELONY KOLOR */
        font-size: 0.75rem !important; /* MNIEJSZA CZCIONKA */
        font-weight: 400 !important;
        margin-top: 4px !important;
      }
      
      /* FIX: Wewnƒôtrzny kontener ceny - wyr√≥wnanie do lewej */
      #customify-app-container product-price [ref="priceContainer"] {
        text-align: left !important;
        width: 100% !important;
        justify-self: flex-start !important;
        align-self: flex-start !important;
      }
      
      /* FIX: Skeleton loaders - eliminuje skakanie podczas ≈Çadowania */
      .product-information__media.loading {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%) !important;
        background-size: 200% 100% !important;
        animation: loading-shimmer 1.5s infinite !important;
      }
      
      .product-details.loading {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%) !important;
        background-size: 200% 100% !important;
        animation: loading-shimmer 1.5s infinite !important;
      }
      
      .product__media img.loading {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%) !important;
        background-size: 200% 100% !important;
        animation: loading-shimmer 1.5s infinite !important;
      }
      
      @keyframes loading-shimmer {
        0% {
          background-position: -200% 0;
        }
        100% {
          background-position: 200% 0;
        }
      }
      
      /* FIX: Ukryj skeleton po za≈Çadowaniu */
      .product-information__media:not(.loading),
      .product-details:not(.loading),
      .product__media img:not(.loading) {
        animation: none !important;
        background: white !important;
      }
      
      /* Responsive - tablet */
      @media (max-width: 768px) {
        .product-information__grid {
          max-width: 768px !important;
          padding: 0 15px !important;
          grid-template-columns: 1fr !important; /* Jedna kolumna na mobile */
          min-height: auto !important;
          background: #f3f5f6 !important;
          gap: 15px !important;
        }
      }
      
      /* Responsive - mobile */
      @media (max-width: 480px) {
        .product-information__grid {
          max-width: 100% !important;
          padding: 0 10px !important;
        }
        
        .product-information__media,
        .product-details {
          min-height: 250px !important;
        }
        
        /* FIX: Bardzo ma≈Çe ekrany - jeszcze bardziej zwarte */
        #customify-app-container {
          padding: 10px !important;
        }
        
        .customify-title {
          font-size: 1rem !important;
          margin: 10px 0 !important;
        }
        
        .customify-size-buttons {
          grid-template-columns: 1fr 1fr !important;
          gap: 6px !important;
        }
        
        .customify-size-btn {
          font-size: 0.8rem !important;
          padding: 6px 4px !important;
          min-height: 40px !important;
        }
        
        .customify-style-grid {
          grid-template-columns: 1fr 1fr !important;
          gap: 8px !important;
        }
        
        .customify-btn {
          font-size: 0.9rem !important;
          padding: 12px 16px !important;
        }
      }
      
      /* Drag & Drop Zone - dzia≈Ça na wszystkich urzƒÖdzeniach */
      .customify-drop-zone {
        border: 2px dashed #9ca3af !important; /* ZMNIEJSZONA RAMKA: z 3px na 2px */
        border-radius: 8px !important;
        background: transparent !important; /* USUNIƒòTO SZARE T≈ÅO */
        padding: 20px 30px !important; /* ZMNIEJSZONO PADDING PIONOWY: z 50px na 20px */
        text-align: center !important;
        transition: all 0.3s ease !important;
        cursor: pointer !important;
        min-height: 100px !important; /* ZMNIEJSZONO WYSOKO≈öƒÜ: z 150px na 100px */
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
      }
      
      .customify-drop-zone:hover {
        border-color: #6c757d !important;
        background: transparent !important; /* USUNIƒòTO SZARE T≈ÅO Z HOVER */
      }
      
      .customify-drop-zone.dragover {
        border-color: #6c757d !important;
        background: transparent !important; /* USUNIƒòTO SZARE T≈ÅO Z DRAGOVER */
      }
      
      .drop-zone-content {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        gap: 12px !important;
      }
      
      .drop-zone-text {
        font-size: 1.1rem !important;
        color: #374151 !important;
        font-weight: 500 !important;
        margin: 0 !important;
      }
      
      .drop-zone-separator {
        font-size: 0.9rem !important;
        color: #9ca3af !important;
        margin: 0 !important;
      }
      
      .customify-upload-btn {
        background: #9ca3af !important; /* JA≈öNIEJSZY KOLOR */
        color: white !important;
        border: none !important;
        padding: 10px 20px !important;
        border-radius: 6px !important;
        font-size: 0.9rem !important;
        font-weight: 500 !important;
        cursor: pointer !important;
        transition: all 0.3s ease !important;
        margin: 0 !important;
      }
      
      .customify-upload-btn:hover {
        background: #6b7280 !important; /* CIEMNIEJSZY HOVER */
        transform: translateY(-1px) !important;
      }
      
      /* FIX: Mobile styles dla aplikacji Customify - wyr√≥wnanie do lewej */
      @media (max-width: 768px) {
        /* Aplikacja Customify na mobile */
        #customify-app-container {
          text-align: left !important;
          padding: 15px !important;
        }
        
        /* Rozmiary - wyr√≥wnanie do lewej */
        .customify-size-selector {
          text-align: left !important;
          margin-bottom: 15px !important;
        }
        
        .customify-size-selector h4 {
          text-align: left !important;
          margin: 0 0 10px 0 !important;
        }
        
        .customify-size-buttons {
          justify-content: flex-start !important;
          grid-template-columns: repeat(2, 1fr) !important;
          gap: 8px !important;
        }
        
        /* Tytu≈Ç aplikacji - wyr√≥wnanie do lewej */
        .customify-title {
          text-align: left !important;
          font-size: 1.1rem !important;
          margin: 15px 0 !important;
        }
        
        /* Upload area - wyr√≥wnanie do lewej */
        .customify-upload-area {
          text-align: left !important;
          padding-top: 0 !important; /* USUNIƒòTO G√ìRNY PADDING */
        }
        
        .customify-upload-hint {
          text-align: left !important;
          margin: 8px 0 0 0 !important;
          font-size: 0.75rem !important; /* ZMNIEJSZONA CZCIONKA */
          color: #666 !important;
          line-height: 1.3 !important;
        }
        
        /* Style grid - wyr√≥wnanie do lewej */
        .customify-style-grid {
          grid-template-columns: repeat(2, 1fr) !important;
          gap: 10px !important;
          justify-content: flex-start !important;
        }
        
        .customify-style-card {
          text-align: left !important;
        }
        
        .style-info {
          text-align: left !important;
        }
        
        /* Wynik - wyr√≥wnanie do lewej */
        .customify-result {
          text-align: left !important;
        }
        
        .customify-result h4 {
          text-align: left !important;
        }
        
        .customify-result img {
          width: 100% !important;
          height: auto !important;
        }
        
        /* Cena - wyr√≥wnanie do lewej */
        .customify-cart-price {
          text-align: left !important;
          margin: 10px 0 !important;
        }
        
        /* Przyciski - wyr√≥wnanie do lewej */
        .customify-actions {
          text-align: left !important;
          margin-top: 15px !important;
        }
        
        .customify-btn {
          width: 100% !important;
          margin: 5px 0 !important;
        }
        
        /* Accordion - wyr√≥wnanie do lewej */
        .product-details-accordion {
          text-align: left !important;
        }
        
        .accordion-header {
          text-align: left !important;
        }
        
        .accordion-content {
          text-align: left !important;
        }
        
        /* Loading states - wyr√≥wnanie do lewej */
        .customify-cart-loading {
          text-align: left !important;
        }
        
        .loading-text,
        .loading-stage {
          text-align: left !important;
        }
      }
      
      /* FIX: POKA≈ª WSZYSTKIE ELEMENTY STOPKI ZAMIAST POPOVER */
      .terms-policies-popover {
        position: static !important;
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        transform: none !important;
        box-shadow: none !important;
        border: none !important;
        background: transparent !important;
        padding: 0 !important;
        margin: 0 !important;
        max-width: none !important;
        width: auto !important;
        height: auto !important;
        z-index: auto !important;
      }
      
      .policy_list {
        display: flex !important;
        flex-wrap: wrap !important;
        gap: 15px !important;
        margin: 0 !important;
        padding: 0 !important;
        list-style: none !important;
      }
      
      .policy_list li {
        margin: 0 !important;
        padding: 0 !important;
      }
      
      .policy_list a {
        color: inherit !important;
        text-decoration: none !important;
        font-size: 0.75rem !important;
        transition: opacity 0.2s ease !important;
      }
      
      .policy_list a:hover {
        opacity: 0.7 !important;
      }
      
      /* UKRYJ PRZYCISK POPOVER - POKA≈ª TYLKO LISTƒò */
      .policy-list-trigger {
        display: none !important;
      }
      
      /* RESPONSIVE - MOBILE */
      @media (max-width: 768px) {
        .policy_list {
          flex-direction: column !important;
          gap: 8px !important;
        }
      }

      /* EXPANDABLE DESCRIPTION USUNIƒòTE - opisy produkt√≥w sƒÖ teraz pe≈Çne */

      /* ACCORDION POD PRZYCISKAMI - STYL ETSY */
      .product-details-accordion {
        display: block !important;
        margin-top: 24px;
        border-top: 1px solid #e5e5e5;
        padding-top: 8px;
      }

      .accordion-item {
        border-bottom: 1px solid #e5e5e5;
        margin-bottom: 8px;
      }

      .accordion-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px 20px;
        cursor: pointer;
        font-weight: 600;
        color: #333;
        font-size: 0.95rem;
        transition: all 0.2s ease;
        user-select: none;
        background: #fff;
        border-radius: 8px;
        border: 1px solid #e5e5e5;
        margin-bottom: 4px;
        width: 100%;
        box-sizing: border-box;
      }

      .accordion-header:hover {
        background: #f8f9fa;
        border-color: #d32f2f;
        color: #000000; /* CZARNY KOLOR */
        box-shadow: 0 2px 8px rgba(211, 47, 47, 0.1);
      }

      .accordion-title {
        display: flex;
        align-items: center;
        gap: 12px;
        flex: 1;
      }

      .accordion-icon {
        font-size: 1.2rem;
        transition: transform 0.3s ease;
        color: #666;
        flex-shrink: 0;
      }

      .accordion-item.expanded .accordion-icon {
        transform: rotate(180deg);
        color: #000000; /* CZARNY KOLOR */
      }

      .accordion-item.expanded .accordion-header {
        background: #f8f9fa;
        border-color: #d32f2f;
        color: #000000; /* CZARNY KOLOR */
      }

      .accordion-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.4s ease;
        color: #666;
        font-size: 0.9rem;
        line-height: 1.6;
        padding: 0 20px;
      }

      .accordion-item.expanded .accordion-content {
        max-height: 800px; /* Enough for longest content */
        padding: 16px 20px;
        background: #f8f9fa;
        border-radius: 0 0 8px 8px;
        border: 1px solid #e5e5e5;
        border-top: none;
        margin-bottom: 8px;
      }

      .accordion-content ul {
        margin: 8px 0;
        padding-left: 20px;
      }

      .accordion-content li {
        margin: 6px 0;
      }

      .accordion-content strong {
        color: #333;
        font-weight: 600;
      }

      .accordion-step {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        margin: 12px 0;
        padding: 12px;
        background: #f9f9f9;
        border-radius: 8px;
      }

      .accordion-step-number {
        background: #d32f2f;
        color: white;
        width: 28px;
        height: 28px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 0.9rem;
        flex-shrink: 0;
      }

      .accordion-step-content {
        flex: 1;
      }

      .accordion-size-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
        margin-top: 12px;
      }

      .accordion-size-item {
        background: #f9f9f9;
        padding: 12px;
        border-radius: 8px;
        border: 2px solid #e5e5e5;
        transition: all 0.2s ease;
      }

      .accordion-size-item:hover {
        border-color: #d32f2f;
        background: #fff;
      }

      .accordion-size-name {
        font-weight: 700;
        color: #333;
        font-size: 1rem;
      }

      .accordion-size-dimensions {
        color: #666;
        font-size: 0.85rem;
        margin: 4px 0;
      }

      .accordion-size-price {
        color: #000000; /* CZARNY KOLOR */
        font-weight: 700;
        font-size: 1.1rem;
      }

      .accordion-size-description {
        color: #999;
        font-size: 0.8rem;
        margin-top: 4px;
      }

      @media (max-width: 768px) {
        .product-details-accordion {
          margin-top: 16px;
        }

        .accordion-header {
          font-size: 0.9rem;
          padding: 14px 16px;
        }

        .accordion-content {
          font-size: 0.85rem;
          padding: 0 16px;
        }

        .accordion-item.expanded .accordion-content {
          padding: 14px 16px;
        }

        .accordion-title {
          gap: 10px;
        }

        .accordion-size-grid {
          grid-template-columns: 1fr;
        }

        .accordion-step {
          padding: 10px;
        }
      }
      
      /* ANIMOWANE STRZA≈ÅKI WSKAZUJƒÑCE W D√ì≈Å */
      .arrow-down {
        text-align: center;
        margin: 0; /* USUNIƒòTO WSZYSTKIE MARGINESY */
        animation: bounce-arrows 4s infinite; /* WOLNIEJ: z 2s na 4s */
      }
      
      .arrow-down span {
        font-size: 2rem;
        color: #dc3545;
        font-weight: bold;
        display: inline-block;
        animation: bounce-individual 3s infinite ease-in-out; /* WOLNIEJ: z 1.5s na 3s */
      }
      
      .arrow-down span:nth-child(1) {
        animation-delay: 0s;
      }
      
      .arrow-down span:nth-child(2) {
        animation-delay: 0.2s;
      }
      
      .arrow-down span:nth-child(3) {
        animation-delay: 0.4s;
      }
      
      @keyframes bounce-arrows {
        0%, 20%, 50%, 80%, 100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-5px); /* MNIEJ: z -10px na -5px */
        }
        60% {
          transform: translateY(-2px); /* MNIEJ: z -5px na -2px */
        }
      }
      
      @keyframes bounce-individual {
        0%, 20%, 50%, 80%, 100% {
          transform: translateY(0);
          opacity: 1;
        }
        40% {
          transform: translateY(-8px); /* MNIEJ: z -15px na -8px */
          opacity: 0.9; /* MNIEJ: z 0.8 na 0.9 */
        }
        60% {
          transform: translateY(-4px); /* MNIEJ: z -8px na -4px */
          opacity: 0.95; /* MNIEJ: z 0.9 na 0.95 */
        }
      }
      
      /* Mobile - mniejsze strza≈Çki */
      @media (max-width: 768px) {
        .arrow-down {
          margin: 0; /* USUNIƒòTO WSZYSTKIE MARGINESY NA MOBILE */
        }
        
        .arrow-down span {
          font-size: 1.5rem;
        }
      }
    </style>
    
    
    <style>
      /* Ukryj produkty Customify z nowymi nazwami rozmiar√≥w (A5/A4/A3/A2) */
      .product-card:has([data-product-title*="A5"]),
      .product-card:has([data-product-title*="A4"]),
      .product-card:has([data-product-title*="A3"]),
      .product-card:has([data-product-title*="A2"]),
      .product-card:has([href*="A5"]),
      .product-card:has([href*="A4"]),
      .product-card:has([href*="A3"]),
      .product-card:has([href*="A2"]) {
        display: none !important;
      }
      
        /* ‚úÖ NAPRAWIONE: Ukryj produkty z "spersonalizowany" w URL (nowe produkty AI) */
        .custom-collection-card[href*="spersonalizowany"] {
          display: none !important;
        }
        
        /* ‚úÖ NAPRAWIONE: Ukryj produkty z "rozmiar" w URL */
        .custom-collection-card[href*="rozmiar"] {
          display: none !important;
        }
        
        /* ‚úÖ NOWE: Ukryj produkty AI w sekcji rekomendacji produkt√≥w */
        .product-recommendations a[href*="spersonalizowany"] {
          display: none !important;
        }
        
        .product-recommendations a[href*="rozmiar"] {
          display: none !important;
        }
      
      
      /* Zachowaj g≈Ç√≥wny produkt Customify widoczny */
      .product-card:has([data-product-title*="Obraz ze zdjƒôcia w stylu Ghibli"]),
      .product-card:has([href*="custom"]) {
        display: block !important;
      }
      
      /* Ukryj TYLKO 2 przyciski Shopify - dodaj do koszyka i kup teraz */
      button#BuyButtons-ProductSubmitButton,
      button[id^="BuyButtons-ProductSubmitButton"],
      .shopify-payment-button {
        display: none !important;
      }
      
      /* Ukryj quantity selector na stronie produktu */
      #BuyButtons-ProductForm-template--26707455672645__main > div > quantity-selector-component {
        display: none !important;
      }
      
      /* Ukryj sekcjƒô z koszyka */
      #shopify-section-sections--26707450822981__section_fV4L9Q > div.section.section--page-width.color-scheme-1 > div.border-style.custom-section-content {
        display: none !important;
      }
    </style>
    
    {% if template contains 'collection' %}
    <style>
      /* Nadpisz ukrywanie produkt√≥w na stronach kolekcji (pokazuj wszystkie karty) */
      .product-card:has([data-product-title*="rozmiar"]),
      .product-card:has([href*="spersonalizowany"]) {
        display: block !important;
      }

      /* Ukryj nag≈Ç√≥wek "Produkty" na stronie kolekcji */
      #shopify-section-template--26450137481541__section {
        display: none !important;
      }
    </style>
    {% endif %}
    
    <!-- FIX: Poprawne proporcje galerii - JavaScript wymusza zmiany -->
    <script>
      // FIX: Przenie≈õ aplikacjƒô NATYCHMIAST - eliminuje skakanie
      document.addEventListener('DOMContentLoaded', function() {
        const app = document.getElementById('customify-app-container');
        const prodInfo = document.querySelector('[id^="ProductInformation-"]');
        const placeholder = document.getElementById('customify-placeholder');
        
        if (app && prodInfo) {
          // Dodaj na koniec ProductInformation NATYCHMIAST
          prodInfo.appendChild(app);
          
          // Ukryj placeholder je≈õli istnieje
          if (placeholder) {
            placeholder.remove();
          }
        } else {
          // Fallback: je≈õli nie ma ProductInformation, spr√≥buj ponownie po kr√≥tkim czasie
          setTimeout(function() {
            const app = document.getElementById('customify-app-container');
            const prodInfo = document.querySelector('[id^="ProductInformation-"]');
            const placeholder = document.getElementById('customify-placeholder');
            
            if (app && prodInfo) {
              prodInfo.appendChild(app);
              if (placeholder) {
                placeholder.remove();
              }
            }
          }, 50);
        }
      });
      
      // FUNKCJA NAPRAWY POWIƒòKSZONEGO ZDJƒòCIA W DIALOGU
      function fixDialogImages() {
        const dialog = document.querySelector('dialog[open]');
        if (!dialog) return;
        
        // Znajd≈∫ wszystkie zdjƒôcia w dialogu
        const allImages = dialog.querySelectorAll('img');
        let largestImg = null;
        let largestWidth = 0;
        
        allImages.forEach(img => {
          const width = img.clientWidth;
          if (width > largestWidth) {
            largestWidth = width;
            largestImg = img;
          }
        });
        
        if (!largestImg) return;
        
        // Wymu≈õ poprawne style - WYPE≈ÅNIA CA≈ÅY KONTENER
        largestImg.style.setProperty('object-fit', 'cover', 'important');
        largestImg.style.setProperty('max-height', 'none', 'important');
        largestImg.style.setProperty('height', '100%', 'important');
        largestImg.style.setProperty('width', '100%', 'important');
        largestImg.style.setProperty('object-position', 'center', 'important');
        
        // Styluj kontener
        if (largestImg.parentElement) {
          largestImg.parentElement.style.setProperty('height', '100%', 'important');
        }
        
      }
      
      // FUNKCJA UKRYWANIA STAREJ SEKCJI POLITYK
      function hideOldPolicySection() {
        // Ukryj ca≈Çy popover z politykami
        const policyPopover = document.querySelector('.footer-utilities__group--left anchored-popover-component');
        if (policyPopover) {
          policyPopover.style.display = 'none';
          policyPopover.style.visibility = 'hidden';
          policyPopover.style.opacity = '0';
          policyPopover.style.height = '0';
          policyPopover.style.overflow = 'hidden';
        }
        
        // Ukryj element "Preferencje dotyczƒÖce plik√≥w cookie"
        const cookieLink = document.querySelector('a[href="/policies/#shopifyReshowConsentBanner"]');
        if (cookieLink) {
          cookieLink.style.display = 'none';
          cookieLink.style.visibility = 'hidden';
          cookieLink.style.opacity = '0';
          cookieLink.style.height = '0';
          cookieLink.style.overflow = 'hidden';
          
          const parentLi = cookieLink.closest('li');
          if (parentLi) {
            parentLi.style.display = 'none';
            parentLi.style.visibility = 'hidden';
            parentLi.style.opacity = '0';
            parentLi.style.height = '0';
            parentLi.style.overflow = 'hidden';
          }
          
        }
      }

      // FUNKCJA DODAWANIA NAWIGACJI NA STRONACH POLITYK
      function addPolicyNavigation() {
        // Dodaj nawigacjƒô do stopki (przed popoverem)
        const footerLeft = document.querySelector('.footer-utilities__group--left');
        if (!footerLeft) {
          return;
        }
        
        const policyPopover = footerLeft.querySelector('anchored-popover-component');
        if (!policyPopover) {
          return;
        }
        
        // Sprawdzam czy nawigacja ju≈º istnieje
        if (document.querySelector('.policy-nav-container-footer')) {
          return;
        }
        
        // Stw√≥rz aktywnƒÖ nawigacjƒô
        const navContainer = document.createElement('div');
        navContainer.className = 'policy-nav-container-footer';
          navContainer.style.cssText = `
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px 20px;
            margin-top: 30px;
            text-align: center;
            font-size: 0.9rem;
          `;
          
          const navTitle = document.createElement('div');
          navTitle.textContent = 'üîó Szybka nawigacja:';
          navTitle.style.cssText = `
            color: #666;
            margin-bottom: 10px;
            font-weight: 500;
          `;
          
          const navLinks = document.createElement('div');
          navLinks.className = 'policy-nav-links';
          navLinks.style.cssText = `
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
          `;
          
          const links = [
            { text: 'Polityka Prywatno≈õci', url: '/policies/privacy-policy' },
            { text: 'Polityka Zwrot√≥w', url: '/policies/refund-policy' },
            { text: 'Dane Kontaktowe', url: '/policies/contact-information' },
            { text: 'Warunki Us≈Çug', url: '/policies/terms-of-service' },
            { text: 'Polityka Wysy≈Çki', url: '/policies/shipping-policy' }
          ];
          
          links.forEach(link => {
            const linkEl = document.createElement('a');
            linkEl.href = link.url;
            linkEl.textContent = link.text;
            linkEl.style.cssText = `
              color: #666;
              text-decoration: none;
              font-weight: 500;
              padding: 8px 16px;
              border-radius: 6px;
              transition: all 0.3s ease;
              display: inline-block;
              border: 1px solid transparent;
            `;
            
            linkEl.addEventListener('mouseenter', function() {
              this.style.color = '#333';
              this.style.backgroundColor = '#fff';
              this.style.borderColor = '#666';
              this.style.transform = 'translateY(-2px)';
              this.style.boxShadow = '0 4px 8px rgba(0,0,0,0.1)';
            });
            
            linkEl.addEventListener('mouseleave', function() {
              this.style.color = '#666';
              this.style.backgroundColor = 'transparent';
              this.style.borderColor = 'transparent';
              this.style.transform = 'translateY(0)';
              this.style.boxShadow = 'none';
            });
            
            navLinks.appendChild(linkEl);
          });
          
          navContainer.appendChild(navTitle);
          navContainer.appendChild(navLinks);
          
          // Wstaw nawigacjƒô przed popoverem w stopce
          footerLeft.insertBefore(navContainer, policyPopover);
          
      }

      function fixGalleryProportions() {
        const galleryGrid = document.querySelector('.media-gallery__grid');
        if (!galleryGrid) return;
        
        // ZAWSZE uruchamiaj galeriƒô w stylu Etsy na stronach produktu
        createEtsyGallery(galleryGrid);
      }
      
      // ETSY-STYLE GALLERY (miniaturki poni≈ºej)
      function createEtsyGallery(galleryGrid) {
        // Sprawd≈∫ czy ju≈º utworzono
        if (galleryGrid.classList.contains('etsy-gallery-initialized')) {
          return;
        }
        
        // Wymu≈õ layout flexbox pionowy (g√≥ra-d√≥≈Ç)
        galleryGrid.style.setProperty('display', 'flex', 'important');
        galleryGrid.style.setProperty('flex-direction', 'column', 'important');
        galleryGrid.style.setProperty('gap', '16px', 'important');
        galleryGrid.style.setProperty('height', 'auto', 'important');
        galleryGrid.style.setProperty('width', '100%', 'important');
        
        // Pobierz wszystkie elementy listy (oryginalne media)
        const allImages = Array.from(galleryGrid.querySelectorAll('li'));
        if (allImages.length === 0) return;
        
        // Zapisz URL wszystkich obrazk√≥w PRZED usuniƒôciem element√≥w
        const imageUrls = allImages.map(li => {
          const img = li.querySelector('img');
          if (!img) return null;
          // Spr√≥buj wyciƒÖgnƒÖƒá URL z currentSrc, src lub srcset
          const direct = img.currentSrc || img.src || '';
          if (direct) return direct;
          const srcset = img.getAttribute('srcset') || '';
          if (srcset) {
            // We≈∫ najwiƒôkszy URL z srcset
            const candidates = srcset.split(',').map(s => s.trim().split(' ')[0]).filter(Boolean);
            return candidates[candidates.length - 1] || null;
          }
          return null;
        }).filter(url => url !== null && url !== '');
        
        if (imageUrls.length === 0) {
          console.warn('‚è≥ [ETSY] Brak gotowych obraz√≥w (lazy-load). Spr√≥bujƒô ponownie p√≥≈∫niej.');
          return; // Nie usuwaj oryginalnych element√≥w dop√≥ki nie mamy URLi
        }
        
        
        // Zmienna do ≈õledzenia aktualnego indexu (globalna dla ca≈Çej galerii)
        let currentIndex = 0;
        
        // NAJPIERW stw√≥rz kontener dla g≈Ç√≥wnego obrazu (bƒôdzie potrzebny w event listenerach)
        let mainImageContainer = galleryGrid.querySelector('.etsy-main-image');
        if (!mainImageContainer) {
          mainImageContainer = document.createElement('div');
          mainImageContainer.className = 'etsy-main-image';
          mainImageContainer.style.cssText = `
            width: 100%;
            position: relative;
            aspect-ratio: 1 / 1;
            background: #f5f5f5;
            border-radius: 8px;
            overflow: hidden;
          `;
          
          // Dodaj g≈Ç√≥wny obraz
          const firstImage = allImages[0]?.querySelector('img');
          if (firstImage) {
            const mainImg = document.createElement('img');
            mainImg.src = firstImage.src;
            mainImg.alt = 'G≈Ç√≥wne zdjƒôcie produktu';
            mainImg.style.cssText = `
              width: 100%;
              height: 100%;
              object-fit: cover;
              cursor: default;
            `;
            
            // Wy≈ÇƒÖcz zoom/modal na g≈Ç√≥wnym obrazie
            mainImg.addEventListener('click', (e) => {
              e.preventDefault();
              e.stopPropagation();
            }, true);
            
            mainImageContainer.appendChild(mainImg);
          }
          
          // Wy≈ÇƒÖcz r√≥wnie≈º klikniƒôcie w kontener (ale przepu≈õƒá klikniƒôcia strza≈Çek)
          mainImageContainer.addEventListener('click', (e) => {
            // Pozw√≥l na klikniƒôcia przycisk√≥w nawigacji
            if (e.target.closest && e.target.closest('.etsy-nav-btn')) {
              return;
            }
            e.preventDefault();
            e.stopPropagation();
          }, true);
          
          // Licznik zdjƒôƒá
          const counter = document.createElement('div');
          counter.className = 'etsy-counter';
          counter.textContent = `1 / ${imageUrls.length}`;
          counter.style.cssText = `
            position: absolute;
            bottom: 16px;
            right: 16px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 14px;
          `;
          mainImageContainer.appendChild(counter);
          
          // Strza≈Çka LEWA na g≈Ç√≥wnym obrazie
          const prevBtn = document.createElement('button');
          prevBtn.innerHTML = '‚Äπ';
          prevBtn.className = 'etsy-nav-btn prev';
          prevBtn.style.cssText = `
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 28px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            transition: all 0.2s ease;
            z-index: 10;
          `;
          
          // Strza≈Çka PRAWA na g≈Ç√≥wnym obrazie
          const nextBtn = document.createElement('button');
          nextBtn.innerHTML = '‚Ä∫';
          nextBtn.className = 'etsy-nav-btn next';
          nextBtn.style.cssText = `
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 28px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            transition: all 0.2s ease;
            z-index: 10;
          `;
          
          mainImageContainer.appendChild(prevBtn);
          mainImageContainer.appendChild(nextBtn);
        }
        
        // POTEM stw√≥rz kontener dla miniaturek z nawigacjƒÖ (poziomo poni≈ºej)
        let thumbsNavigationContainer = galleryGrid.querySelector('.etsy-thumbs-navigation');
        if (!thumbsNavigationContainer) {
          thumbsNavigationContainer = document.createElement('div');
          thumbsNavigationContainer.className = 'etsy-thumbs-navigation';
          thumbsNavigationContainer.style.cssText = `
            display: flex;
            align-items: center;
            gap: 12px;
            width: 100%;
          `;
          
          // Strza≈Çka LEWA dla miniaturek
          const thumbsPrevBtn = document.createElement('button');
          thumbsPrevBtn.innerHTML = '‚Äπ';
          thumbsPrevBtn.style.cssText = `
            width: 36px;
            height: 36px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
          `;
          
          // Kontener miniaturek
          let thumbsRow = document.createElement('div');
          thumbsRow.className = 'etsy-thumbnails-row';
          thumbsRow.style.cssText = `
            display: flex;
            flex-direction: row;
            gap: 8px;
            overflow-x: auto;
            overflow-y: hidden;
            padding: 10px 0;
            flex: 1;
            scrollbar-width: none;
            -ms-overflow-style: none;
          `;
          thumbsRow.style.setProperty('-webkit-scrollbar', 'none');
          
          // Strza≈Çka PRAWA dla miniaturek
          const thumbsNextBtn = document.createElement('button');
          thumbsNextBtn.innerHTML = '‚Ä∫';
          thumbsNextBtn.style.cssText = `
            width: 36px;
            height: 36px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
          `;
          
          // Event listenery dla strza≈Çek miniaturek
          thumbsPrevBtn.addEventListener('click', (e) => {
            e.preventDefault();
            thumbsRow.scrollBy({ left: -200, behavior: 'smooth' });
          });
          
          thumbsNextBtn.addEventListener('click', (e) => {
            e.preventDefault();
            thumbsRow.scrollBy({ left: 200, behavior: 'smooth' });
          });
          
          // Hover effects
          [thumbsPrevBtn, thumbsNextBtn].forEach(btn => {
            btn.addEventListener('mouseenter', () => {
              btn.style.background = '#f5f5f5';
              btn.style.transform = 'scale(1.1)';
            });
            btn.addEventListener('mouseleave', () => {
              btn.style.background = 'white';
              btn.style.transform = 'scale(1)';
            });
          });
          
          // Przenie≈õ miniaturki
          allImages.forEach((img, index) => {
            const thumb = img.cloneNode(true);
            
            // Usu≈Ñ wszystkie atrybuty kt√≥re mogƒÖ powodowaƒá zoom/modal
            const links = thumb.querySelectorAll('a, button');
            links.forEach(link => {
              link.removeAttribute('href');
              link.removeAttribute('data-modal');
              link.removeAttribute('data-pswp-width');
              link.removeAttribute('data-pswp-height');
              link.style.pointerEvents = 'none'; // Wy≈ÇƒÖcz klikniƒôcia w linki
            });
            
            thumb.style.cssText = `
              width: 80px;
              height: 80px;
              border: 2px solid #e0e0e0;
              border-radius: 4px;
              cursor: pointer;
              transition: all 0.2s ease;
              flex-shrink: 0;
            `;
            
            // Dodaj active state
            if (index === 0) {
              thumb.style.borderColor = '#000';
            }
            
            // Klikniƒôcie zmienia g≈Ç√≥wny obraz (BEZ ZOOM/MODAL)
            thumb.addEventListener('click', (e) => {
              e.preventDefault(); // Zatrzymaj domy≈õlne zachowanie Shopify
              e.stopPropagation(); // Zatrzymaj propagacjƒô (zoom/modal)
              
              // Aktualizuj currentIndex (dla synchronizacji ze strza≈Çkami)
              currentIndex = index;
              
              // Usu≈Ñ active ze wszystkich
              thumbsRow.querySelectorAll('li').forEach(t => {
                t.style.borderColor = '#e0e0e0';
              });
              // Dodaj active
              thumb.style.borderColor = '#000';
              
              // Zmie≈Ñ g≈Ç√≥wny obraz u≈ºywajƒÖc zapisanego URL
              const mainImg = mainImageContainer.querySelector('img');
              if (mainImg && imageUrls[index]) {
                mainImg.src = imageUrls[index];
                // Aktualizuj licznik
                const counter = mainImageContainer.querySelector('.etsy-counter');
                if (counter) {
                  counter.textContent = `${index + 1} / ${imageUrls.length}`;
                }
              }
            }, true); // useCapture = true (przechwytuj PRZED Shopify)
            
            thumbsRow.appendChild(thumb);
          });
          
          // Sk≈Çadaj nawigacjƒô miniaturek
          thumbsNavigationContainer.appendChild(thumbsPrevBtn);
          thumbsNavigationContainer.appendChild(thumbsRow);
          thumbsNavigationContainer.appendChild(thumbsNextBtn);
          
          // Dodaj NAJPIERW g≈Ç√≥wny obraz (g√≥ra)
          galleryGrid.appendChild(mainImageContainer);
          
          // POTEM miniaturki z nawigacjƒÖ (d√≥≈Ç)
          galleryGrid.appendChild(thumbsNavigationContainer);
        }
        
        // Event listenery dla strza≈Çek g≈Ç√≥wnego obrazu (NA ZEWNƒÑTRZ if'a - dzia≈ÇajƒÖ zawsze)
        const prevBtn = mainImageContainer.querySelector('.etsy-nav-btn.prev');
        const nextBtn = mainImageContainer.querySelector('.etsy-nav-btn.next');
        const counter = mainImageContainer.querySelector('.etsy-counter');
        const mainImg = mainImageContainer.querySelector('img');
        const thumbsRow = galleryGrid.querySelector('.etsy-thumbnails-row');
        
        console.log('üîß [ETSY GALLERY] Elementy znalezione:', {
          prevBtn: !!prevBtn,
          nextBtn: !!nextBtn,
          mainImg: !!mainImg,
          thumbsRow: !!thumbsRow,
          counter: !!counter
        });
        
        if (prevBtn && nextBtn && mainImg && thumbsRow) {
          // Usu≈Ñ stare event listenery (klonuj przyciski)
          const newPrevBtn = prevBtn.cloneNode(true);
          const newNextBtn = nextBtn.cloneNode(true);
          prevBtn.replaceWith(newPrevBtn);
          nextBtn.replaceWith(newNextBtn);
          
          newPrevBtn.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            
            currentIndex = currentIndex === 0 ? imageUrls.length - 1 : currentIndex - 1;
            
            // Zmie≈Ñ obraz u≈ºywajƒÖc zapisanego URL
            if (mainImg && imageUrls[currentIndex]) {
              mainImg.src = imageUrls[currentIndex];
              counter.textContent = `${currentIndex + 1} / ${imageUrls.length}`;
              
              // Aktualizuj active state miniaturek
              if (thumbsRow) {
                thumbsRow.querySelectorAll('li').forEach((t, i) => {
                  t.style.borderColor = i === currentIndex ? '#000' : '#e0e0e0';
                });
              }
              
            }
          });
          
          newNextBtn.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            
            currentIndex = currentIndex === imageUrls.length - 1 ? 0 : currentIndex + 1;
            
            // Zmie≈Ñ obraz u≈ºywajƒÖc zapisanego URL
            if (mainImg && imageUrls[currentIndex]) {
              mainImg.src = imageUrls[currentIndex];
              counter.textContent = `${currentIndex + 1} / ${imageUrls.length}`;
              
              // Aktualizuj active state miniaturek
              if (thumbsRow) {
                thumbsRow.querySelectorAll('li').forEach((t, i) => {
                  t.style.borderColor = i === currentIndex ? '#000' : '#e0e0e0';
                });
              }
              
            }
          });
          
          // Hover effects dla strza≈Çek g≈Ç√≥wnego obrazu
          [newPrevBtn, newNextBtn].forEach(btn => {
            btn.addEventListener('mouseenter', () => {
              btn.style.background = 'white';
              btn.style.transform = 'translateY(-50%) scale(1.1)';
            });
            btn.addEventListener('mouseleave', () => {
              btn.style.background = 'rgba(255, 255, 255, 0.9)';
              btn.style.transform = 'translateY(-50%) scale(1)';
            });
          });
          
        } else {
          console.error('‚ùå [ETSY] Brak element√≥w:', { prevBtn, nextBtn, mainImg, thumbsRow });
        }
        
        // Usu≈Ñ oryginalne elementy
        allImages.forEach(img => img.remove());
        
        galleryGrid.classList.add('etsy-gallery-initialized');
      }
      
      // STANDARD CAROUSEL (dla innych produkt√≥w)
      function createStandardCarousel(galleryGrid) {
        // UKRYJ SLIDESHOW-COMPONENT NA MOBILE (powoduje duplikacjƒô g≈Ç√≥wnego zdjƒôcia)
        if (window.innerWidth <= 749) {
          const slideshow = document.querySelector('slideshow-component');
          if (slideshow) {
            slideshow.style.setProperty('display', 'none', 'important');
            slideshow.style.setProperty('visibility', 'hidden', 'important');
            slideshow.style.setProperty('opacity', '0', 'important');
            slideshow.style.setProperty('height', '0', 'important');
            slideshow.style.setProperty('overflow', 'hidden', 'important');
          }
        }
        
        // Dodaj aktywnƒÖ nawigacjƒô na stronach polityk
        if (window.location.pathname.includes('/policies/')) {
          addPolicyNavigation();
        }
        
        // Wymu≈õ nowe wymiary przez JavaScript - KARUZELA
        galleryGrid.style.setProperty('display', 'flex', 'important');
        galleryGrid.style.setProperty('flex-direction', 'column', 'important');
        galleryGrid.style.setProperty('height', 'auto', 'important');
        galleryGrid.style.setProperty('width', '100%', 'important');
        
        // Stw√≥rz kontener dla miniaturek z nawigacjƒÖ
        let thumbnailsContainer = galleryGrid.querySelector('.thumbnails-container');
        if (!thumbnailsContainer) {
          // Kontener z nawigacjƒÖ
          const navigationContainer = document.createElement('div');
          navigationContainer.className = 'thumbnails-navigation';
          navigationContainer.style.cssText = `
            position: relative;
            display: flex;
            align-items: center;
            gap: 10px;
          `;
          
                // Przycisk lewo
                const leftBtn = document.createElement('button');
                leftBtn.innerHTML = '‚Üê';
                leftBtn.className = 'thumbnails-nav-btn left';
                leftBtn.style.cssText = `
                  background: white;
                  color: #333;
                  border: 1px solid #e0e0e0;
                  border-radius: 50%;
                  width: 36px;
                  height: 36px;
                  cursor: pointer;
                  font-size: 16px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  flex-shrink: 0;
                  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                  transition: all 0.2s ease;
                `;
          
          // Kontener miniaturek
          thumbnailsContainer = document.createElement('div');
          thumbnailsContainer.className = 'thumbnails-container';
          thumbnailsContainer.style.cssText = `
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding: 10px 0;
            scroll-behavior: smooth;
            flex: 1;
            scrollbar-width: none;
            -ms-overflow-style: none;
          `;
          thumbnailsContainer.style.webkitScrollbar = 'none';
          
                // Przycisk prawo
                const rightBtn = document.createElement('button');
                rightBtn.innerHTML = '‚Üí';
                rightBtn.className = 'thumbnails-nav-btn right';
                rightBtn.style.cssText = `
                  background: white;
                  color: #333;
                  border: 1px solid #e0e0e0;
                  border-radius: 50%;
                  width: 36px;
                  height: 36px;
                  cursor: pointer;
                  font-size: 16px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  flex-shrink: 0;
                  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                  transition: all 0.2s ease;
                `;
          
          // Przenie≈õ miniaturki do kontenera
          const thumbnails = Array.from(galleryGrid.querySelectorAll('li:not(:first-child)'));
          thumbnails.forEach(thumb => {
            thumbnailsContainer.appendChild(thumb);
          });
          
          // Sk≈Çadaj nawigacjƒô
          navigationContainer.appendChild(leftBtn);
          navigationContainer.appendChild(thumbnailsContainer);
          navigationContainer.appendChild(rightBtn);
          
          galleryGrid.appendChild(navigationContainer);
          
                // Event listeners dla przycisk√≥w
                leftBtn.addEventListener('click', () => {
                  thumbnailsContainer.scrollBy({ left: -100, behavior: 'smooth' });
                });
                
                rightBtn.addEventListener('click', () => {
                  thumbnailsContainer.scrollBy({ left: 100, behavior: 'smooth' });
                });
                
                // Hover effects
                leftBtn.addEventListener('mouseenter', () => {
                  leftBtn.style.background = '#f5f5f5';
                  leftBtn.style.borderColor = '#ccc';
                  leftBtn.style.transform = 'scale(1.05)';
                });
                
                leftBtn.addEventListener('mouseleave', () => {
                  leftBtn.style.background = 'white';
                  leftBtn.style.borderColor = '#e0e0e0';
                  leftBtn.style.transform = 'scale(1)';
                });
                
                rightBtn.addEventListener('mouseenter', () => {
                  rightBtn.style.background = '#f5f5f5';
                  rightBtn.style.borderColor = '#ccc';
                  rightBtn.style.transform = 'scale(1.05)';
                });
                
                rightBtn.addEventListener('mouseleave', () => {
                  rightBtn.style.background = 'white';
                  rightBtn.style.borderColor = '#e0e0e0';
                  rightBtn.style.transform = 'scale(1)';
                });
        }
        
        // G≈Ç√≥wne zdjƒôcie - WYPE≈ÅNIA CA≈ÅƒÑ SZEROKO≈öƒÜ
        const mainImage = galleryGrid.querySelector('li:first-child');
        if (mainImage) {
          // Usu≈Ñ klasy kt√≥re ograniczajƒÖ wymiary
          mainImage.classList.remove('constrain-height', 'media-fit-contain');
          mainImage.classList.add('media-fit'); // Dodaj klasƒô kt√≥ra wype≈Çnia
          
          mainImage.style.setProperty('height', 'auto', 'important'); // RESPONSIVE
          mainImage.style.setProperty('width', '100%', 'important');
          mainImage.style.setProperty('aspect-ratio', '1 / 1', 'important'); // KWADRAT RESPONSIVE
          mainImage.style.setProperty('grid-row', '1 / 2', 'important');
          mainImage.style.setProperty('grid-column', '1 / 4', 'important'); // WSZYSTKIE 3 KOLUMNY
          mainImage.style.setProperty('margin', '0', 'important');
          mainImage.style.setProperty('max-height', 'none', 'important');
          
          const mainImg = mainImage.querySelector('img');
          if (mainImg) {
            mainImg.style.setProperty('height', '100%', 'important'); // RESPONSIVE
            mainImg.style.setProperty('width', '100%', 'important');
            mainImg.style.setProperty('object-fit', 'cover', 'important');
            mainImg.style.setProperty('object-position', 'center', 'important');
            mainImg.style.setProperty('aspect-ratio', 'inherit', 'important'); // Dziedzicz z kontenera
          }
        }
        
        // Miniaturki - KARUZELA
        const thumbnails = thumbnailsContainer.querySelectorAll('li');
        thumbnails.forEach((thumb) => {
          // Usu≈Ñ inline styles kt√≥re blokujƒÖ
          thumb.removeAttribute('style');
          
          // Ustaw nowe wymiary - KARUZELA
          thumb.style.setProperty('height', '90px', 'important');
          thumb.style.setProperty('width', '90px', 'important');
          thumb.style.setProperty('aspect-ratio', '1 / 1', 'important');
          thumb.style.setProperty('flex-shrink', '0', 'important'); // Nie kurcz siƒô
          
          // Styluj kontener product-media
          const productMedia = thumb.querySelector('.product-media');
          if (productMedia) {
            productMedia.style.setProperty('width', '100%', 'important');
            productMedia.style.setProperty('height', '100%', 'important');
            productMedia.style.setProperty('aspect-ratio', '1 / 1', 'important');
          }
          
          const thumbImg = thumb.querySelector('img');
          if (thumbImg) {
            thumbImg.style.setProperty('object-fit', 'cover', 'important');
            thumbImg.style.setProperty('width', '100%', 'important');
            thumbImg.style.setProperty('height', '100%', 'important');
          }
        });
        
      }

      // Uruchom naprawƒô galerii po za≈Çadowaniu strony
      document.addEventListener('DOMContentLoaded', function() {
        // Czekaj a≈º galeria siƒô za≈Çaduje
        setTimeout(fixGalleryProportions, 1500);
        
        // Uruchom ponownie co 500ms ≈ºeby nadpisaƒá style Shopify
        setInterval(fixGalleryProportions, 500);
        
        // Dodaj nawigacjƒô w stopce (na wszystkich stronach)
        addPolicyNavigation();
        
        // Ukryj starƒÖ sekcjƒô polityk
        hideOldPolicySection();
        
        // NAPRAWA POWIƒòKSZONYCH ZDJƒòƒÜ W DIALOGU
        // Event listener dla klikniƒôƒá w przyciski powiƒôkszenia
        document.addEventListener('click', function(e) {
          const zoomButton = e.target.closest('.product-media-container__zoom-button, button[class*="zoom"]');
          if (zoomButton) {
            setTimeout(fixDialogImages, 100);  // Czekaj a≈º dialog siƒô otworzy
            setTimeout(fixDialogImages, 300);  // Ponownie po za≈Çadowaniu
            setTimeout(fixDialogImages, 600);  // I jeszcze raz dla pewno≈õci
          }
        });
        
        // Regularnie sprawdzaj czy dialog jest otwarty i naprawiaj
        setInterval(fixDialogImages, 300);
      });
    </script>
    

    {{ content_for_header }}
  </head>

  <body class="page-width-{{ settings.page_width }} card-hover-effect-{{ settings.card_hover_effect }}">
    {% render 'skip-to-content-link', href: '#MainContent', text: 'accessibility.skip_to_text' %}
    
    <!-- REDIRECT AFTER LOGIN - Przekieruj u≈ºytkownika z powrotem na produkt po zalogowaniu -->
    <script>
      // NATYCHMIAST sprawd≈∫ i przekieruj - zanim Shopify przekieruje na /account
      (function() {
        // Redirect script initialized
        
        const isLoggedIn = {{ customer.id | json }} !== null;
        const returnUrl = localStorage.getItem('customify_return_url');
        const timestamp = localStorage.getItem('customify_return_url_timestamp');
        const currentPath = window.location.pathname;
        const currentFull = window.location.pathname + window.location.search;
        
        // Redirect logic processing
        
        if (isLoggedIn && returnUrl) {
          // Je≈õli jeste≈õmy na /account/* i mamy return URL - przekieruj NATYCHMIAST
          if (currentPath.startsWith('/account')) {
            // Redirecting to return URL
            localStorage.removeItem('customify_return_url');
            localStorage.removeItem('customify_return_url_timestamp');
            window.location.replace(returnUrl); // replace() nie dodaje do historii przeglƒÖdarki
          } 
          // Je≈õli jeste≈õmy ju≈º na stronie produktu - wyczy≈õƒá localStorage
          else if (currentPath === returnUrl || currentFull === returnUrl) {
            // Already on correct page - clearing localStorage
            localStorage.removeItem('customify_return_url');
            localStorage.removeItem('customify_return_url_timestamp');
          } else {
            // No matching condition - waiting
          }
        } else {
          // No redirect conditions met
        }
      })();
    </script>
    
    <!-- KOMPLETNY NAG≈Å√ìWEK CUSTOMIFY -->
    <header class="header-main">
      <!-- G√ìRA HEADERA: Logo + Linki u≈ºytkownika + Koszyk -->
      <div class="header-top">
        <div class="header-container">
          <!-- Logo (≈õrodek) -->
          <div class="header-logo">
            <a href="{{ routes.root_url }}" class="logo-link">
              {% if settings.logo != blank %}
                <img src="{{ settings.logo | image_url: width: 200 }}" alt="{{ shop.name }}" class="logo-image">
              {% else %}
                <span class="logo-text">{{ shop.name }}</span>
              {% endif %}
            </a>
          </div>
          
          <!-- Linki u≈ºytkownika + Koszyk (po prawej) -->
          <div class="header-right">
            <div class="header-user">
              {% if customer %}
                <div class="user-section">
                  <a href="{{ routes.account_url }}" class="user-icon-wrapper">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="user-icon">
                      <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                    </svg>
                  </a>
                  <div class="user-links">
                    <a href="{{ routes.account_url }}" class="user-text-link">Moje konto</a>
                    <a href="{{ routes.account_logout_url }}" class="user-text-link">Wyloguj siƒô</a>
                  </div>
                </div>
              {% else %}
                <div class="user-section">
                  <a href="{{ routes.account_login_url }}" class="user-icon-wrapper">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="user-icon">
                      <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                    </svg>
                  </a>
                  <div class="user-links">
                    <a href="{{ routes.account_login_url }}" class="user-text-link">Zaloguj</a>
                    <a href="{{ routes.account_register_url }}" class="user-text-link">Zarejestruj</a>
                  </div>
                </div>
              {% endif %}
            </div>

            <div class="header-cart">
              <a href="{{ routes.cart_url }}" class="cart-link">
                <div class="cart-icon-wrapper">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="cart-icon">
                    <path d="M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.7 15.3C4.3 15.7 4.6 16.5 5.1 16.5H17M17 13V17C17 18.1 16.1 19 15 19H9C7.9 19 7 18.1 7 17V13M17 13H7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  {% if cart.item_count > 0 %}
                    <span class="cart-count">{{ cart.item_count }}</span>
                  {% endif %}
                </div>
                <span class="cart-text">Koszyk</span>
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- D√ì≈Å HEADERA: Menu nawigacji -->
      <div class="header-bottom">
        <div class="header-container">
          <nav class="header-nav">
            <div class="nav-item">
              <a href="/" class="nav-link">G≈Ç√≥wna</a>
            </div>
            <div class="nav-item">
              <a href="/collections/all" class="nav-link">Produkty</a>
            </div>
            <div class="nav-item">
              <a href="/pages/kontakt" class="nav-link">Kontakt</a>
            </div>
          </nav>
        </div>
      </div>

    </header>

    <!-- Breadcrumbs -->
    {% if template contains 'product' or template contains 'collection' or template contains 'blog' %}
      <div class="breadcrumbs">
        <div class="breadcrumbs-container">
          <a href="{{ routes.root_url }}" class="breadcrumb-link">Home</a>
          {% if template contains 'product' %}
              <span class="breadcrumb-separator">/</span>
            <a href="/collections/all" class="breadcrumb-link">Produkty</a>
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-current">{{ product.title | truncate: 50 }}</span>
          {% elsif template contains 'collection' %}
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-current">{{ collection.title }}</span>
          {% elsif template contains 'blog' %}
            <span class="breadcrumb-separator">/</span>
            <a href="{{ blog.url }}" class="breadcrumb-link">{{ blog.title }}</a>
            {% if article %}
              <span class="breadcrumb-separator">/</span>
              <span class="breadcrumb-current">{{ article.title | truncate: 30 }}</span>
            {% endif %}
          {% endif %}
        </div>
      </div>
    {% endif %}

    <script
      src="{{ 'critical.js' | asset_url }}"
      type="module"
      async
      blocking="render"
    ></script>

    <main
      id="MainContent"
      class="content-for-layout"
      role="main"
      data-page-transition-enabled="{{ settings.page_transition_enabled }}"
      data-product-transition="{{ settings.transition_to_main_product }}"
      data-template="{{ template }}"
    >
      {{ content_for_layout }}

      {% if template contains 'collection' %}
        <div class="custom-collection-wrapper">
          <h1 class="custom-collection-title">{{ collection.title }}</h1>
          {% if collection.description != blank %}
            <div class="custom-collection-description">{{ collection.description }}</div>
          {% endif %}
          {% if collection.products_count > 0 %}
            <div class="custom-collection-grid">
              {% for product in collection.products %}
                <a href="{{ product.url }}" class="custom-collection-card">
                  <div class="custom-collection-image">
                    {% if product.featured_image %}
                      <img src="{{ product.featured_image | image_url: width: 600 }}" alt="{{ product.title }}">
                    {% endif %}
                  </div>
                  <div class="custom-collection-meta">
                    <div class="custom-collection-card-title">{{ product.title }}</div>
                    {% if product.price %}
                      <div class="custom-collection-price">{{ product.price | money }}</div>
                    {% endif %}
                  </div>
                </a>
              {% endfor %}
            </div>
          {% else %}
            <div class="custom-collection-empty">Brak produkt√≥w do wy≈õwietlenia.</div>
          {% endif %}
        </div>
        <style>
          .custom-collection-wrapper { max-width: 1200px; margin: 20px auto; padding: 0 20px; }
          .custom-collection-title { font-size: 1.8rem; margin: 10px 0 15px; }
          .custom-collection-description { color: #666; margin-bottom: 15px; }
          .custom-collection-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 16px; }
          .custom-collection-card { display: block; border: 1px solid #e5e5e5; border-radius: 8px; overflow: hidden; background: #fff; text-decoration: none; color: inherit; transition: box-shadow .2s ease, transform .2s ease; }
          .custom-collection-card:hover { box-shadow: 0 6px 18px rgba(0,0,0,.08); transform: translateY(-2px); }
          .custom-collection-image { aspect-ratio: 1 / 1; background: #f8f9fa; display: flex; align-items: center; justify-content: center; }
          .custom-collection-image img { width: 100%; height: 100%; object-fit: cover; }
          .custom-collection-meta { padding: 10px 12px; }
          .custom-collection-card-title { font-weight: 600; font-size: .95rem; margin-bottom: 6px; }
          .custom-collection-price { color: #000000; font-weight: 700; } /* CZARNY KOLOR */
          .custom-collection-empty { color: #666; padding: 20px 0; }
        </style>
      {% endif %}
    </main>

    {% render 'search-modal' %}

    {% if settings.quick_add or settings.mobile_quick_add %}
      {% render 'quick-add-modal' %}
    {% endif %}

    {% comment %} CUSTOMIFY AI PHOTO CUSTOMIZATION {% endcomment %}
    {% if template contains 'product' %}
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          const app = document.getElementById('customify-app-container');
          const placeholder = document.getElementById('customify-placeholder');
          if (app && placeholder) {
            placeholder.appendChild(app);
          }
          
        });
      </script>
      <div id="customify-app-container" class="customify-shopify-container">
        <!-- Rozmiary - na g√≥rze nad tytu≈Çem -->
        <div class="customify-size-selector" id="sizeArea" style="display: block; margin-bottom: 10px;">
          <h4 style="text-align: left;">Rozmiar:</h4>
              <div class="customify-size-buttons">
                <div class="customify-size-btn" data-size="a4">20√ó30 cm</div>
                <div class="customify-size-btn" data-size="a3">30√ó40 cm</div>
                <div class="customify-size-btn" data-size="a2">40√ó60 cm</div>
                <div class="customify-size-btn" data-size="a1">60√ó85 cm</div>
              </div>
        </div>
        
        <h3 class="customify-title">Wgraj zdjƒôcie i zobacz efekt od razu</h3>
        
        <!-- Animowane strza≈Çki wskazujƒÖce w d√≥≈Ç -->
        <div class="arrow-down">
          <span>‚Üì</span>
          <span>‚Üì</span>
          <span>‚Üì</span>
        </div>
        <div class="customify-inline-wrapper">
          <div class="customify-embed" id="customifyEmbed">
          <div class="customify-upload-area" id="uploadArea">
            <div class="customify-drop-zone" id="dropZone">
              <div class="drop-zone-content">
                <button class="customify-upload-btn" id="uploadBtn">
                  Dodaj zdjƒôcie
                </button>
              </div>
            </div>
            <input type="file" id="fileInput" class="customify-file-input" accept="image/*">
            <!-- Komunikat b≈Çƒôdu - od razu pod uploadem -->
            <div class="customify-error" id="errorMessage" style="display: none; margin-top: 10px;"></div>
          </div>

            <div class="customify-preview" id="previewArea">
              <h4>Twoje zdjƒôcie:</h4>
              <img id="previewImage" alt="PodglƒÖd zdjƒôcia">
            </div>

            <div class="customify-styles" id="stylesArea" style="display: block;">
              <h4>Wybierz styl</h4>
              <div class="customify-style-grid">
                {% comment %} LOGIKA SERVER-SIDE: Filtruj style per produkt {% endcomment %}
                                {% if product.handle == 'karykatura-z-twojego-zdjecia-obraz' %}
                  {% comment %} TYLKO STYLE KARYKATURY dla produktu karykatura - u≈ºywa Segmind API {% endcomment %}                                                   
                  <div class="customify-style-card" data-style="karykatura">
                    <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/karykat/caricature.png'); background-size: cover; background-position: center;"></div>                                                
                    <div class="style-info">
                      <div class="style-name">Karykatura</div>
                    </div>
                  </div>
                {% elsif product.handle == 'karykatura-prezent-na-rocznice-prezent-ze-zdjecia' %}
                  {% comment %} TYLKO STYLE KARYKATURY dla produktu karykatura-prezent - u≈ºywa Segmind API {% endcomment %}                                                   
                  <div class="customify-style-card" data-style="karykatura">
                    <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/karykat/caricature.png'); background-size: cover; background-position: center;"></div>                                                
                    <div class="style-info">
                      <div class="style-name">Karykatura</div>
                    </div>
                  </div>
                {% elsif product.handle == 'personalizowany-portret-w-stylu-boho' %}
                  {% comment %} NOWE STYLE BOHO dla produktu boho {% endcomment %}
                  <div class="customify-style-card" data-style="minimalistyczny">
                    <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/boho/minimal.png'); background-size: cover; background-position: center;"></div>
                    <div class="style-name">Minimalistyczny</div>
                  </div>
                  
                  <div class="customify-style-card" data-style="realistyczny">
                    <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/boho/detail.png'); background-size: cover; background-position: center;"></div>
                    <div class="style-name">Realistyczny</div>
                  </div>
                {% elsif product.handle == 'krol-portret-personalizowany' %}
                  {% comment %} TYLKO STYLE KR√ìLA dla produktu kr√≥l {% endcomment %}
                  <div class="customify-style-card" data-style="krol-krolewski">
                    <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/krol/krol-styl-1.jpg'); background-size: cover; background-position: center;"></div>
                    <div class="style-info">
                      <div class="style-name">Kr√≥l Kr√≥lewski</div>
                    </div>
                  </div>
                  <div class="customify-style-card" data-style="krol-majestatyczny">
                    <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/krol/krol-styl-2.jpg'); background-size: cover; background-position: center;"></div>
                    <div class="style-info">
                      <div class="style-name">Kr√≥l Majestatyczny</div>
                    </div>
                  </div>
                  <div class="customify-style-card" data-style="krol-triumfalny">
                    <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/krol/krol-styl-3.jpg'); background-size: cover; background-position: center;"></div>
                    <div class="style-info">
                      <div class="style-name">Kr√≥l Triumfalny</div>
                    </div>
                  </div>
                  <div class="customify-style-card" data-style="krol-imponujacy">
                    <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/krol/krol_4.png'); background-size: cover; background-position: center;"></div>
                    <div class="style-info">
                      <div class="style-name">Kr√≥l ImponujƒÖcy</div>
                    </div>
                  </div>
                {% elsif product.handle == 'koty-krolewskie-zwierzeta-w-koronach' %}
                  {% comment %} TYLKO STYLE KOT√ìW dla produktu kot√≥w {% endcomment %}
                  <div class="customify-style-card" data-style="krolewski">
                  <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/koty/krolewski.png'); background-size: cover; background-position: center;"></div>
                  <div class="style-info">
                    <div class="style-name">Kr√≥lewski Kot</div>
                  </div>
                </div>
                <div class="customify-style-card" data-style="na-tronie">
                  <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/koty/na_tronie.png'); background-size: cover; background-position: center;"></div>
                  <div class="style-info">
                    <div class="style-name">Kot na Tronie</div>
                  </div>
                </div>
                <div class="customify-style-card" data-style="wojenny">
                  <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/koty/wojenny.png'); background-size: cover; background-position: center;"></div>
                  <div class="style-info">
                    <div class="style-name">Wojenny Kot</div>
                  </div>
                </div>
                <div class="customify-style-card" data-style="wiktorianski">
                  <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/koty/wiktorianski.png'); background-size: cover; background-position: center;"></div>
                  <div class="style-info">
                    <div class="style-name">Wiktoria≈Ñski Kot</div>
                  </div>
                </div>
                <div class="customify-style-card" data-style="renesansowy">
                  <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/koty/renesansowy.png'); background-size: cover; background-position: center;"></div>
                  <div class="style-info">
                    <div class="style-name">Renesansowy Kot</div>
                  </div>
                </div>
                {% else %}
                  {% comment %} WSZYSTKIE STYLE NORMALNE dla innych produkt√≥w {% endcomment %}
                  <div class="customify-style-card" data-style="van gogh">
                    <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/Screenshot%202025-09-29%20at%2022.17.01.png'); background-size: cover; background-position: center;"></div>
                    <div class="style-info">
                      <div class="style-name">Van Gogh</div>
                    </div>
                  </div>
                  <div class="customify-style-card" data-style="picasso">
                    <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/Screenshot%202025-09-29%20at%2022.17.14.png'); background-size: cover; background-position: center;"></div>
                    <div class="style-info">
                      <div class="style-name">Picasso</div>
                    </div>
                  </div>
                  <div class="customify-style-card" data-style="monet">
                    <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/Screenshot%202025-09-29%20at%2022.17.37.png'); background-size: cover; background-position: center;"></div>
                    <div class="style-info">
                      <div class="style-name">Monet</div>
                    </div>
                  </div>
                  <div class="customify-style-card" data-style="anime">
                    <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/Screenshot%202025-09-29%20at%2022.17.52.png'); background-size: cover; background-position: center;"></div>
                    <div class="style-info">
                      <div class="style-name">Anime</div>
                    </div>
                  </div>
                  <div class="customify-style-card" data-style="cyberpunk">
                    <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/Screenshot%202025-09-29%20at%2022.17.01.png'); background-size: cover; background-position: center;"></div>
                    <div class="style-info">
                      <div class="style-name">Cyberpunk</div>
                    </div>
                  </div>
                  <div class="customify-style-card" data-style="watercolor">
                    <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/Screenshot%202025-09-29%20at%2022.17.14.png'); background-size: cover; background-position: center;"></div>
                    <div class="style-info">
                      <div class="style-name">Akwarela</div>
                    </div>
                  </div>
                  <div class="customify-style-card" data-style="pixar">
                    <div class="style-image" style="background-image: url('https://customify-s56o.vercel.app/Screenshot%202025-09-29%20at%2022.17.37.png'); background-size: cover; background-position: center;"></div>
                    <div class="style-info">
                      <div class="style-name">Pixar</div>
                    </div>
                  </div>
                {% endif %}
              </div>
        </div>


            <!-- Komunikat b≈Çƒôdu - nad przyciskami -->
            <div class="customify-error" id="errorMessageBottom" style="display: none; margin: 15px 0;"></div>
            
            <div class="customify-actions" id="actionsArea" style="display: none;">
              <button class="customify-btn customify-btn-red" id="transformBtn">
                Zobacz PodglƒÖd
              </button>
              <button class="customify-btn customify-btn-secondary" id="resetBtn" style="display: none;">
                Wgraj inne zdjƒôcie
              </button>
              <button class="customify-btn customify-btn-primary" id="addToCartBtnMain" style="display: none;">
                Dodaj do koszyka
              </button>
      </div>

            <div class="customify-loading" id="loadingArea">
              <!-- Animowane strza≈Çki wskazujƒÖce w d√≥≈Ç -->
              <div class="arrow-down">
                <span>‚Üì ‚Üì ‚Üì</span>
              </div>
              <div class="customify-spinner"></div>
              <div class="loading-text">Generowanie mo≈ºe potrwaƒá nawet 2 minuty - zaczekaj</div>
              <div class="loading-progress">
                <div class="loading-progress-bar" id="progressBar"></div>
              </div>
              <div class="loading-stage" id="loadingStage">Przesy≈Çanie zdjƒôcia...</div>
            </div>

            <div class="customify-result" id="resultArea">
              <h4>Tw√≥j obraz:</h4>
              <img id="resultImage" alt="Wynik AI">
              <p style="font-size: 0.85rem; color: #666; text-align: center; margin: 8px 0 0 0; font-style: italic;">Znak√≥w wodnych nie bƒôdzie na ko≈Ñcowym produkcie</p>
              
              <!-- Komunikat sukcesu -->
              <div class="customify-success" id="successMessage"></div>
              
              <!-- Cena nad przyciskiem -->
              <div class="customify-cart-price" id="cartPriceDisplay" style="display: none; margin: 15px 0; text-align: center; padding: 10px; background: #f8f9fa; border-radius: 8px; border: 1px solid #e9ecef;">
                <span class="cart-price-label" style="font-weight: 600; color: #333; margin-right: 12px;">Cena:</span>
                <span class="cart-price-value" id="cartPriceValue" style="font-size: 1.2rem; font-weight: 700; color: #e55a2b;">0.00 z≈Ç</span>
              </div>
              
              <div class="customify-actions" style="margin-top: 15px;">
                <button class="customify-btn customify-btn-primary customify-btn-red" id="addToCartBtn">
                  Dodaj do koszyka
                </button>
                <button class="customify-btn customify-btn-secondary" id="tryAgainBtn">
                  Spr√≥buj ponownie
                </button>
              </div>
            
            <!-- Pasek postƒôpu dla dodawania do koszyka -->
            <div class="customify-cart-loading" id="cartLoadingArea" style="display: none;">
              <div class="customify-spinner"></div>
              <div class="loading-text">Dodawanie do koszyka...</div>
              <div class="loading-progress">
                <div class="loading-progress-bar" id="cartProgressBar"></div>
              </div>
              <div class="loading-stage" id="cartLoadingStage">Tworzenie produktu...</div>
            </div>
            </div>

            <!-- ACCORDION: SZCZEG√ì≈ÅY PRODUKTU (NA SAMYM DOLE APLIKACJI) -->
            <div class="product-details-accordion">
              
              <!-- 1. Szczeg√≥≈Çy produktu -->
              <div class="accordion-item" data-accordion="details">
                <div class="accordion-header">
                  <div class="accordion-title">
                    <span>üìã</span>
                    <span>O produkcie</span>
                  </div>
                  <span class="accordion-icon">‚ñº</span>
                </div>
                <div class="accordion-content">
                  <ul>
                    <li><strong>Piƒôkne p≈Ç√≥tno artystyczne:</strong> Twoje zdjƒôcie wydrukowane na grubym, premium p≈Ç√≥tnie canvas z naturalnƒÖ teksturƒÖ</li>
                    <li><strong>Z ramƒÖ lub bez:</strong> Wybierz co Ci odpowiada</li>
                    <li><strong>Matowe wyko≈Ñczenie:</strong> ≈ªadnych nieestetycznych odblask√≥w ≈õwiat≈Ça - obraz wyglƒÖda profesjonalnie z ka≈ºdej strony</li>
                    <li><strong>Gotowe do powieszenia:</strong> Wieszak w zestawie - wystarczy powiesiƒá na ≈õcianie, nic wiƒôcej do monta≈ºu!</li>
                    <li><strong>Twoje zdjƒôcie + magia AI:</strong> Przekszta≈Çcamy Twoje zdjƒôcie w wybranym stylu artystycznym - od klasyki po nowoczesno≈õƒá</li>
                  </ul>
                </div>
              </div>

              <!-- 2. Wysy≈Çka i dostawa -->
              <div class="accordion-item" data-accordion="shipping">
                <div class="accordion-header">
                  <div class="accordion-title">
                    <span>üì¶</span>
                    <span>Wysy≈Çka i dostawa</span>
                  </div>
                  <span class="accordion-icon">‚ñº</span>
                </div>
                <div class="accordion-content">
                  <ul>
                    <li><strong>‚ö° Szybka realizacja:</strong> 3-5 dni roboczych od akceptacji projektu</li>
                    <li><strong>üì¶ Bezpieczne opakowanie:</strong> Karton wzmocniony + folia bƒÖbelkowa</li>
                    <li><strong>üáµüá± Wysy≈Çka z Polski:</strong> InPost Paczkomaty, Poczta Polska, Kurier DPD</li>
                    <li><strong>üìç ≈öledzenie przesy≈Çki:</strong> Numer trackingowy wysy≈Çany mailem</li>
                  </ul>
                </div>
              </div>

              <!-- 3. Dostƒôpne rozmiary -->
              <div class="accordion-item" data-accordion="sizes">
                <div class="accordion-header">
                  <div class="accordion-title">
                    <span>Dostƒôpne rozmiary</span>
                  </div>
                  <span class="accordion-icon">‚ñº</span>
                </div>
                <div class="accordion-content">
                  <div class="accordion-size-grid">
                    <div class="accordion-size-item">
                      <div class="accordion-size-name">20 √ó 30 cm</div>
                      <div class="accordion-size-description">≈öwietny do ma≈Çych pokoi</div>
                    </div>
                    <div class="accordion-size-item">
                      <div class="accordion-size-name">30 √ó 40 cm</div>
                      <div class="accordion-size-description">Doskona≈Çy do ≈õrednich pomieszcze≈Ñ</div>
                    </div>
                    <div class="accordion-size-item">
                      <div class="accordion-size-name">40 √ó 60 cm</div>
                      <div class="accordion-size-description">Efektowny na du≈ºe ≈õciany w salonie</div>
                    </div>
                    <div class="accordion-size-item">
                      <div class="accordion-size-name">60 √ó 85 cm</div>
                      <div class="accordion-size-description">ImponujƒÖcy na ca≈ÇƒÖ ≈õcianƒô</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 4. Jak to dzia≈Ça -->
              <div class="accordion-item" data-accordion="howto">
                <div class="accordion-header">
                  <div class="accordion-title">
                    <span>üí°</span>
                    <span>Jak to dzia≈Ça?</span>
                  </div>
                  <span class="accordion-icon">‚ñº</span>
                </div>
                <div class="accordion-content">
                  <div class="accordion-step">
                    <div class="accordion-step-number">1</div>
                    <div class="accordion-step-content">
                      <strong>Wgraj swoje zdjƒôcie</strong><br>
                      JPG, PNG lub GIF do 10MB. Najlepiej w wysokiej rozdzielczo≈õci.
                    </div>
                  </div>
                  <div class="accordion-step">
                    <div class="accordion-step-number">2</div>
                    <div class="accordion-step-content">
                      <strong>Wybierz styl artystyczny</strong><br>
                      Van Gogh, Picasso, Monet, Anime, Cyberpunk, Akwarela, Pixar i wiƒôcej!
                    </div>
                  </div>
                  <div class="accordion-step">
                    <div class="accordion-step-number">3</div>
                    <div class="accordion-step-content">
                      <strong>Wybierz rozmiar wydruku</strong><br>
                      A5, A4, A3 lub A2 - wybierz idealny rozmiar dla Twojej przestrzeni.
                    </div>
                  </div>
                  <div class="accordion-step">
                    <div class="accordion-step-number">4</div>
                    <div class="accordion-step-content">
                      <strong>AI przekszta≈Çci Twoje zdjƒôcie</strong><br>
                      Najnowocze≈õniejsza technologia sztucznej inteligencji w 30-60 sekund.
                    </div>
                  </div>
                  <div class="accordion-step">
                    <div class="accordion-step-number">5</div>
                    <div class="accordion-step-content">
                      <strong>Drukujemy i wysy≈Çamy</strong><br>
                      Wysokiej jako≈õci druk na p≈Ç√≥tnie premium, bezpiecznie zapakowany.
                    </div>
                  </div>
                </div>
              </div>

            </div>
            <!-- KONIEC ACCORDION (NA SAMYM DOLE) -->

              </div>
          </div>
        </div>
      </div>
      
      <style>
        /* GRID STYL√ìW AI - TYLKO STYLE, NIE DOTYKAM PROPORCJI */
        .customify-style-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 15px;
          margin-bottom: 20px;
        }

        .customify-style-card {
          border: 2px solid #dee2e6;
          border-radius: 8px;
          background: white;
          cursor: pointer;
          transition: all 0.3s ease;
          overflow: hidden;
        }

        .customify-style-card:hover {
          border-color: #c82333;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .customify-style-card.active {
          border-color: #dc3545 !important;
          box-shadow: 0 0 0 2px rgba(220, 53, 69, 0.2) !important;
          transform: scale(1.02) !important;
        }

        .style-image {
          width: 100%;
          aspect-ratio: 3 / 4; /* üéØ WSZYSTKIE style - jednolity pionowy format portret */
          background-size: contain;
          background-position: center;
          background-repeat: no-repeat;
        }

        /* Gradienty usuniƒôte - u≈ºywamy obrazk√≥w */

        .style-info {
          padding: 8px;
          text-align: center;
        }

        .style-name {
          font-weight: 600;
          font-size: 0.9rem;
          color: #333;
          margin-bottom: 2px;
        }

        /* Ceny styl√≥w usuniƒôte - style nie wp≈ÇywajƒÖ na cenƒô */

        @media (max-width: 768px) {
          .customify-style-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
          }
        }

        /* MOBILE HEADER STYLES */
        @media (max-width: 768px) {
          /* G√ìRA HEADERA: Logo + Ikony w jednej linii */
          .header-top .header-container {
            display: flex !important;
            flex-direction: row !important;
            align-items: center !important;
            justify-content: space-between !important;
            padding: 15px !important;
            gap: 15px !important;
          }
          
          /* LOGO NA MOBILE */
          .header-logo {
            flex-grow: 1 !important;
            text-align: center !important;
          }
          
          /* ZMNIEJSZ LOGO NA MOBILE */
          .header-logo img {
            max-width: 120px !important;
            height: auto !important;
          }
          
          /* IKONKI PO PRAWEJ */
          .header-right {
            display: flex !important;
            align-items: center !important;
            gap: 15px !important;
          }
          
          /* D√ì≈Å HEADERA: Menu poni≈ºej */
          .header-bottom {
            width: 100% !important;
            background-color: #f8f9fa !important;
            border-top: 1px solid #dee2e6 !important;
          }
          
          .header-bottom .header-container {
            padding: 10px 15px !important;
          }
          
          .header-nav {
            display: flex !important;
            justify-content: center !important;
            flex-wrap: wrap !important;
            gap: 15px !important;
          }
          
          .nav-item {
            margin-right: 0 !important;
            margin-bottom: 0 !important;
          }
          
          .nav-link {
            font-size: 14px !important;
            padding: 8px 12px !important;
            color: #495057 !important;
            text-decoration: none !important;
            border-radius: 4px !important;
            transition: background-color 0.2s !important;
          }
          
          .nav-link:hover {
            background-color: #e9ecef !important;
            color: #dc3545 !important;
          }
          
          /* UKRYJ NAPISY "ZALOGUJ" I "ZAREJESTRUJ" NA MOBILE */
          .user-text-link {
            display: none !important;
          }
          
          /* ZOSTAW TYLKO IKONKƒò OSOBY */
          .user-section {
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            gap: 0 !important;
          }
          
          /* ZMIE≈É IKONKƒò OSOBY NA BARDZIEJ POPULARNƒÑ I MNIEJ KOLOROWƒÑ */
          .user-icon-wrapper {
            width: 36px !important;
            height: 36px !important;
            border-radius: 50% !important;
            background-color: #f8f9fa !important;
            border: 1px solid #dee2e6 !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            text-decoration: none !important;
            cursor: pointer !important;
          }
          
          .user-icon {
            width: 20px !important;
            height: 20px !important;
            color: #6c757d !important;
          }
          
          /* HOVER EFFECT DLA IKONKI */
          .user-section:hover .user-icon-wrapper {
            border-color: #dc3545 !important;
            background-color: #fff5f5 !important;
          }
          
          .user-section:hover .user-icon {
            color: #dc3545 !important;
          }
        }


        /* CSS dla rozmiar√≥w */
        .customify-size-selector {
          display: block;
          margin-bottom: 24px;
          background: white;
          border-radius: 0;
          padding: 8px 0; /* ZMNIEJSZONO: z 20px na 8px */
          border: none;
          border-top: 1px solid #e9ecef;
        }

        .customify-size-selector h4 {
          font-size: 1.2rem;
          font-weight: 600;
          color: #000;
          margin: 0 0 16px 0;
          text-align: center;
        }

        .customify-size-buttons {
          display: grid;
          grid-template-columns: repeat(4, 70px);
          gap: 8px;
          justify-content: start;
        }

        .customify-size-btn {
          padding: 8px 6px;
          border: 1px solid #666666 !important;
          border-radius: 0;
          background: white;
          cursor: pointer;
          transition: all 0.3s ease;
          text-align: center;
          font-size: 0.85rem;
          font-weight: 500;
          color: #333;
          box-shadow: none;
          line-height: 1.3;
          min-height: 50px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .customify-size-btn:hover {
          border-color: #c82333;
          background-color: #fff5f0;
          transform: none;
          box-shadow: none;
        }

        .customify-size-btn.active {
          border: 2px solid #dc3545 !important;
          background: #fff5f5 !important;
          color: #dc3545 !important;
          font-weight: 600 !important;
          transform: none !important;
          box-shadow: none !important;
        }

        /* Style dla ceny produktu - NAPRAWIONY SELEKTOR */
        product-price > div,
        product-price div {
          font-size: 1.4rem !important;
          font-weight: 700 !important;
          color: #000000 !important; /* CZARNY KOLOR */
        }
        
        /* Dodatkowe selektory dla ceny produktu */
        .price,
        [class*="price"] {
          font-size: 1.4rem !important;
          font-weight: 700 !important;
          color: #000000 !important; /* CZARNY KOLOR */
        }
        
        /* OCHRONA: Nowa cena nad przyciskiem NIE wp≈Çywa na oryginalnƒÖ cenƒô */
        .customify-cart-price {
          /* Nowa cena ma w≈Çasne style - nie wp≈Çywa na oryginalnƒÖ cenƒô */
        }
        
        /* Upewnij siƒô ≈ºe oryginalna cena produktu ma priorytet */
        product-price,
        product-price > div,
        product-price div,
        .price,
        [class*="price"] {
          font-size: 1.4rem !important;
          font-weight: 700 !important;
          color: #000000 !important; /* CZARNY KOLOR */
          text-decoration: none !important;
        }
      </style>
    {% endif %}

    {% comment %} CUSTOMIFY CART INTEGRATION {% endcomment %}
    {% if template contains 'cart' %}
      <style>
        .cart-item__ai-image {
          width: 80px;
          height: 80px;
          object-fit: cover;
          border-radius: 0;
          border: 2px solid #e0e0e0;
          margin-right: 15px;
        }
        
        .cart-item__content-wrapper {
          display: flex;
          gap: 15px;
          align-items: start;
        }
      </style>
    {% endif %}

    {% comment %} CUSTOMIFY CUSTOMER REVIEWS {% endcomment %}
    {% if template contains 'product' %}
    <style>
      /* Style dla gwiazdek w opiniach - BARDZIEJ SPECYFICZNE */
      .customer-reviews-section .star,
      .stars-rating .star,
      .review-stars .star,
      .star {
        color: #ffc107 !important;
        font-size: 1.2rem !important;
        margin-right: 2px !important;
        display: inline-block !important;
        text-shadow: none !important;
        background: none !important;
        border: none !important;
      }
      
      .stars-rating {
        display: flex;
        align-items: center;
        gap: 5px;
        margin: 10px 0;
      }
      
      /* Style dla sekcji opinii klient√≥w */
      .customer-reviews-section {
        margin-top: 40px;
        padding: 30px 20px;
        background: #f8f9fa;
        border-radius: 12px;
        border: 1px solid #e9ecef;
      }
      
      .reviews-header {
        text-align: center;
        margin-bottom: 30px;
      }
      
      .reviews-title {
        font-size: 1.8rem;
        font-weight: 700;
        color: #333;
        margin: 0 0 15px 0;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }
      
      .reviews-link {
        color: #007bff;
        text-decoration: none;
        font-size: 0.9rem;
        font-weight: 500;
      }
      
      .reviews-link:hover {
        text-decoration: underline;
      }
      
      .reviews-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }
      
      .review-card {
        background: white;
        padding: 20px;
        border-radius: 8px;
        border: 1px solid #e9ecef;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      
      .review-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
      }
      
      .review-author {
        font-weight: 600;
        color: #333;
      }
      
      .review-date {
        color: #6c757d;
        font-size: 0.9rem;
      }
      
      .review-stars {
        margin-bottom: 15px;
      }
      
      .review-text {
        color: #555;
        line-height: 1.5;
        margin-bottom: 10px;
        font-style: italic;
      }
      
      .review-style {
        color: #007bff;
        font-weight: 600;
        font-size: 0.9rem;
      }
    </style>
    
    <div class="customer-reviews-section">
      <div class="reviews-header">
        <h2 class="reviews-title">
          ‚≠ê Opinie klient√≥w
          <a href="#customer-reviews" class="reviews-link">Zobacz wszystkie opinie</a>
        </h2>
        <div class="stars-rating">
          <span class="star">‚òÖ</span>
          <span class="star">‚òÖ</span>
          <span class="star">‚òÖ</span>
          <span class="star">‚òÖ</span>
          <span class="star">‚òÖ</span>
          <span style="margin-left: 10px; color: #6c757d; font-weight: 600;">4.9/5 (143 opinii)</span>
        </div>
      </div>
      
      <div class="reviews-grid" id="customer-reviews">
        <div class="review-card">
          <div class="review-header">
            <div class="review-author">Anna K.</div>
            <div class="review-date">15.01.2025</div>
          </div>
          <div class="review-stars">
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
          </div>
          <div class="review-text">
            "Niesamowite! Moje zdjƒôcie w stylu anime wyglƒÖda jak prawdziwe dzie≈Ço sztuki. Jako≈õƒá druku na p≈Ç√≥tnie jest doskona≈Ça, kolory sƒÖ ≈ºywe i wyra≈∫ne. Polecam ka≈ºdemu!"
          </div>
          <div class="review-style">Styl: Anime</div>
        </div>

        <div class="review-card">
          <div class="review-header">
            <div class="review-author">Marcin W.</div>
            <div class="review-date">12.01.2025</div>
          </div>
          <div class="review-stars">
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
          </div>
          <div class="review-text">
            "Zam√≥wi≈Çem portret w stylu Van Gogh dla ≈ºony na rocznicƒô. By≈Ça zachwycona! AI doskonale odtworzy≈Ço styl malarza. Szybka realizacja i ≈õwietna jako≈õƒá."
          </div>
          <div class="review-style">Styl: Van Gogh</div>
        </div>

        <div class="review-card">
          <div class="review-header">
            <div class="review-author">Katarzyna M.</div>
            <div class="review-date">10.01.2025</div>
          </div>
          <div class="review-stars">
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
          </div>
          <div class="review-text">
            "Cyberpunk style to by≈Ç strza≈Ç w dziesiƒÖtkƒô! Moje zdjƒôcie wyglƒÖda jak z filmu sci-fi. P≈Ç√≥tno jest wysokiej jako≈õci, a kolory sƒÖ niesamowicie intensywne."
          </div>
          <div class="review-style">Styl: Cyberpunk</div>
        </div>

        <div class="review-card">
          <div class="review-header">
            <div class="review-author">Piotr L.</div>
            <div class="review-date">08.01.2025</div>
          </div>
          <div class="review-stars">
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
          </div>
          <div class="review-text">
            "Akwarela wysz≈Ça przepiƒôknie! Delikatne kolory i miƒôkki styl idealnie pasujƒÖ do naszego salonu. ≈ªona ju≈º planuje kolejne zam√≥wienia."
          </div>
          <div class="review-style">Styl: Akwarela</div>
        </div>

        <div class="review-card">
          <div class="review-header">
            <div class="review-author">Magdalena S.</div>
            <div class="review-date">05.01.2025</div>
          </div>
          <div class="review-stars">
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
          </div>
          <div class="review-text">
            "Monet style to czysta magia! Moje zdjƒôcie wyglƒÖda jak impresjonistyczne dzie≈Ço sztuki. Jako≈õƒá wykonania i szybko≈õƒá realizacji na najwy≈ºszym poziomie."
          </div>
          <div class="review-style">Styl: Monet</div>
        </div>

        <div class="review-card">
          <div class="review-header">
            <div class="review-author">Tomasz K.</div>
            <div class="review-date">03.01.2025</div>
          </div>
          <div class="review-stars">
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
          </div>
          <div class="review-text">
            "Picasso style to prawdziwe dzie≈Ço sztuki! Abstrakcyjne formy i wyraziste kolory tworzƒÖ niesamowity efekt. Polecam ka≈ºdemu mi≈Ço≈õnikowi sztuki."
          </div>
          <div class="review-style">Styl: Picasso</div>
        </div>

        <div class="review-card">
          <div class="review-header">
            <div class="review-author">Agnieszka R.</div>
            <div class="review-date">01.01.2025</div>
          </div>
          <div class="review-stars">
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
            <span class="star">‚òÖ</span>
          </div>
          <div class="review-text">
            "Renesans to absolutnie niesamowity styl! Moje zdjƒôcie wyglƒÖda jak prawdziwy portret z epoki renesansu. Dramatyczne ≈õwiat≈Ço i szczeg√≥≈Çy sƒÖ imponujƒÖce!"
          </div>
          <div class="review-style">Styl: Renesans</div>
        </div>
      </div>
    </div>
    {% endif %}

    {% sections 'footer-group' %}
  </body>
</html>